读了王垠的《编程的智慧》 [这篇文章](http://www.yinwang.org/blog-cn/2015/11/21/programming-philosophy) ，感觉是有些收获的。
结合着自己几年来的编程经验，觉得王垠说的很多东西是没有毛病的，是平时有认真思考过才总结出来的。

我对王垠没有特别的印象，所以我对他的评价还是比较客观中立的：我觉得他是个编程的牛人，而且很热衷于写程序。网上对他负面的新闻很多，在世俗看来，在他光芒四射的背景下，几乎没有一件事是能坚持到最后的。
这个事实我并不否认。我觉得王垠很像一个长不大的孩子，很多时候他<strong>并不在意</strong>他所得到的那些成就，他更在意内心的感觉。
This may be true，这与个人成长有关，也是他个人性格的选择。虽然他狂，但是狂的有理。他是我少有的比较佩服的人。

回到文章本身，文章阐述了很多编程方面的经验以及如何写出优雅代码。有几条是我比较认同的：

1. 让程序逻辑清晰起来。很多时候我们看业务代码或者接手别人的工程代码，会发现很多所谓的“胶水代码”（glue code）和“面条代码”(spaghetti code)。前者是工具的粘合剂，后者是一些冗余的杂乱的分支代码。
对于胶水代码，我总是希望有些注释来阐释如何运作的，会节省大量时间（大部分都没有注释 sad）。而面条代码，真如王垠所说，让人找不到头绪，花了好久往往才能明白。好的程序是模块清晰，分工明确的，不管是开源项目还是公司项目都是这样的。一旦冗余过多，那么意味着有很多优化点。

2. 写模块化的代码。这一点是我一路走在感悟比较深刻的。之前很多时候没有对模块化理解很深，导致很多程序的脉络不是很清晰，很多代码块的功能不单一，耦合过重。这样做代码会有很多冗余，不可能被重用。
随着经验的积累，我才开始慢慢地重视这个问题并尝试不同的编码风格。

3. 提高代码可读性。这是个编程习惯问题，比如使用有意义的变量和名字，局部变量应该尽量接近使用它的地方，局部变量名字应该简短，<strong>把复杂的逻辑提取出去，做成helper函数</strong>， 在合理的地方换行等等。
这些习惯也是后天养成的。而且现在IDE智能化对编程习惯养成很有帮助。我虽然不是VIM or EMACS党，也无意于比较IDE好还是这些shell editor好，我只是想说IDE（比如webstorm）的缩进以及排版功能实在很实用！

4. 写简单的代码，写直观代码。这两部分我建议所有人都去阅读原文。因为我认同他的观点：好的程序是高效的，可读的，不是让人费解的，也不是一味追求短而精。

5. 空值问题。曾经有一段经历让我很难受，就是和空指针有关。当时给客户写数据库对接工具，才发现很多数据都是“脏数据”，里面有人为输入的null值，这些值会引起程序异常，所以不得不写大量的try...catch来抓取异常。这样做很苦恼又无可奈何。
文章给出了一个鲜明的观点：<strong>明确声明不接受null参数，当参数是null时立即崩溃。不要试图对null进行“容错”，不要让程序继续往下执行。如果调用者使用了null作为参数，那么调用者（而不是函数作者）应该对程序的崩溃负全责。</strong>
虽然这样的观点有些幼稚，的确是所有开发人员的心声吧~
文章还给出了一些语言高级特性来检查null值问题。比如JAVA8的Objects.requireNonNull()
<pre><code>
public static <T> T requireNonNull(T obj) {
  if (obj == null) {
    throw new NullPointerException();
  } else {
    return obj;
  }
}
</code></pre>
这段函数检查参数，如果传参是null，立刻触发NullPointerException并崩溃。简单粗暴，防止null指针穿到程序内部。

6. 防止过度工程。我觉得这一点是一种经验谈。都知道over-engineering不好，但是项目中不好把握。我觉得好的项目是具备代码重用和可扩展性这两个基本特征的。所以简单而游刃有余是所有开发人员追求的目标。

说了这么多，其实文章里面有些东西我也不完全认同。我是对所有事物都带有批判性的。文章的主基调是很绝对的，所以让我感到不能完全信任。而且IT行业发展是在迅猛，甚至你今天的经验到了明天可能都会变为零。文章出发点是好的，且行且珍惜吧~
我喜欢单纯的coding一辈子，但是我也感到程序员这个行业在中国不适合做一辈子。